<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>å®‰è£…mongodb | Yuankai Gou</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
      <link rel="icon" href="/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="/js/google-code-prettify/atelier-plateau-dark.css">

  </head>

  <body>

<header>
	<a id="logo" href="/" title="Yuankai Gou">
	<img src="/favicon.png" alt="Yuankai Gou"></a>
	
	
		<!--æœç´¢æ -->
		<i class="js-toggle-search iconfont icon-search"></i>


<form class="js-search search-form search-form--modal" method="get" action="http://gushi.li" role="search">
	<div class="search-form__inner">
		<div>
			<i class="iconfont icon-search"></i>
			<input class="text-input" placeholder="Enter Key..." type="search">
		</div>
	</div>
</form>
	

	
		<!--ä¾§è¾¹å¯¼èˆªæ -->
		<a id="nav-toggle" href="#"><span></span></a>

<nav>
	<div class="menu-top-container">
		<ul id="menu-top" class="menu">
			
				
				<li class="current-menu-item">
					<a href="http://weibo.com/yumemor/" target="_blank">Weibo</a>
				</li>
			
		</ul>
	</div>
</nav>
	

</header>
<div class="m-header ">
	<section id="hero1" class="hero">
		<div class="inner">
		</div>
	</section>
	
		<figure class="top-image" data-enable=true></figure>
	
</div>

<!--æ–‡ç« åˆ—è¡¨-->
<div class="wrapper">
  
    <!--æ–‡ç« -->
<article>
	
  
    <h1 class="post-title" itemprop="name">
      å®‰è£…mongodb
    </h1>
  

	<div class='post-body mb'>
		<blockquote>
<p>MacOSä¸‹å®‰è£…mongodbæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œé¦–å…ˆä½ éœ€è¦æœ‰Homebrewå·¥å…·ï¼Œå¦‚æœæ²¡æœ‰åœ¨ç»ˆç«¯å®‰è£…ä¸€ä¸ªï¼Œä»¥åå®‰è£…è½¯ä»¶ç‰¹åˆ«æ–¹ä¾¿<br><a id="more"></a></p>
</blockquote>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>MacOSä¸‹å®‰è£…mongodbæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œé¦–å…ˆä½ éœ€è¦æœ‰Homebrewå·¥å…·ï¼Œå¦‚æœæ²¡æœ‰åœ¨ç»ˆç«¯å®‰è£…ä¸€ä¸ªï¼Œä»¥åå®‰è£…è½¯ä»¶ç‰¹åˆ«æ–¹ä¾¿ã€‚æ‰§è¡Œ</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre><p>å®‰è£…ç»“æŸä¹‹å</p>
<p>æ›´æ–°Homebrewçš„packageæ•°æ®åº“ï¼Œåœ¨Macçš„ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<pre><code>$ brew update
</code></pre><p>å¼€å§‹å®‰è£…MongoDb </p>
<pre><code>$ brew install mongodb
</code></pre><p>å®‰è£…å¥½ä¹‹åä¼šçœ‹åˆ°æç¤º </p>
<pre><code>==&gt; Summary
ğŸº /usr/local/Cellar/mongodb/2.6.5: 17 files, 331M
</code></pre><p>è¿™ä¸ªç›®å½•å°±æ˜¯å®‰è£…åçš„ç›®å½•ï¼Œè®°ä½ã€‚è‡ªæ­¤ï¼Œmongodbå°±å®‰è£…å®Œæ¯•äº†ã€‚</p>
<hr>
<h2 id="åˆæ­¥é…ç½®"><a href="#åˆæ­¥é…ç½®" class="headerlink" title="åˆæ­¥é…ç½®"></a>åˆæ­¥é…ç½®</h2><p>mongodbå’Œå…¶ä»–æ•°æ®åº“ä¸€æ ·æœ‰å®¢æœç«¯ï¼Œå’ŒæœåŠ¡ã€‚å¯ä»¥è‡ªå·±é…ç½®ä¸€ä¸ªæœåŠ¡ç«¯ï¼Œè‡ªå·±ç»‘å®šç«¯å£ã€‚</p>
<p>æ‰¾åˆ°ä¸€ä¸ªè‡ªå·±æƒ³è¦é…ç½®çš„ç›®å½•ä¸‹ã€‚åˆ›å»ºmongodb_simpleå·¥ä½œç›®å½•ï¼Œåœ¨å…¶ä¸­åˆ›å»ºbinç›®å½•(ç”¨æ¥å­˜æ”¾æœåŠ¡ç«¯) confç›®å½•ç”¨æ¥å­˜æ”¾åˆ›å»ºçš„é…ç½®æ–‡ä»¶ dataç›®å½•ç”¨æ¥å­˜æ”¾æ•°æ®åº“æ•°æ®æ–‡ä»¶  logç›®å½•ç”¨æ¥å­˜æ”¾æ—¥å¿—</p>
<p>åˆ›å»ºå¥½ä¹‹åï¼Œæ‹·è´ /usr/local/Cellar/mongodb/2.6.5/mongod åˆ° åˆ›å»ºçš„binä¸‹.<br>åˆ©ç”¨vim åœ¨confä¸­åˆ›å»ºæ–‡ä»¶å†™å…¥ </p>
<pre><code>port = 1234
dbpath = data
logpath = log/mongod.log
fork = true
</code></pre><p>portæ˜¯æœåŠ¡å™¨ç«¯å£<br>dbpathæ˜¯æ•°æ®åº“å­˜æ”¾ç›®å½•<br>logpathæ˜¯è®¾ç½®æœåŠ¡ç«¯çš„é…ç½®ä¿¡æ¯æ–‡ä»¶ ä¹‹åä¼šè‡ªåŠ¨åˆ›å»º<br>fork = trueæŒ‡çš„æ˜¯åˆ›å»ºåå°è¿›ç¨‹</p>
<p><em>æ•´ä¸ªç›®å½•ç»“æ„å¦‚ä¸‹</em></p>
<pre><code>mongodb_simple
â”œâ”€â”€ bin
â”‚   â””â”€â”€ mongod
â”œâ”€â”€ conf
â”‚   â””â”€â”€ mongod.conf
â”œâ”€â”€ data
â””â”€â”€ log
</code></pre><p>æˆ‘ä»¬å·²ç»æœ‰äº†mongodçš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿæœ‰äº†mongod ä½†æ˜¯mongodæœåŠ¡ç«¯ä¸çŸ¥é“é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€ä¸‹<br>å›åˆ°mongodb_simple</p>
<pre><code>./bin/mongod -f conf/mongod.conf
</code></pre><p>è¿™é‡Œçš„confæ–‡ä»¶å°±æ˜¯åˆšæ‰çš„å†™å…¥æ–‡ä»¶ã€‚</p>
<p>ç°åœ¨æŸ¥çœ‹logä¸­å°±ä¼šå‡ºç°æ—¥å¿—</p>
<hr>
<h2 id="è¿æ¥mongdb"><a href="#è¿æ¥mongdb" class="headerlink" title="è¿æ¥mongdb"></a>è¿æ¥mongdb</h2><p><code>/usr/local/Cellar/mongodb/2.6.5/</code></p>
<p>è¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸€äº›å¸¸è§„çš„æ–‡ä»¶éœ€è¦äº†è§£</p>
<pre><code>.
â”œâ”€â”€ bsondump
â”œâ”€â”€ mongo
â”œâ”€â”€ mongod
â”œâ”€â”€ mongodump
â”œâ”€â”€ mongoexport
â”œâ”€â”€ mongofiles
â”œâ”€â”€ mongoimport
â”œâ”€â”€ mongooplog
â”œâ”€â”€ mongoperf
â”œâ”€â”€ mongorestore
â”œâ”€â”€ mongos
â”œâ”€â”€ mongosniff
â”œâ”€â”€ mongostat
â””â”€â”€ mongotop
</code></pre><ul>
<li>mongodæ˜¯æ‰§è¡ŒæœåŠ¡ç«¯ç¨‹åº</li>
<li><p>mongo è¿æ¥å®¢æˆ·ç«¯</p>
</li>
<li><p>mongoexport å¯¼å‡º</p>
</li>
<li><p>ongoimport å¯¼å…¥</p>
</li>
<li><p>mongorestore äºŒè¿›åˆ¶å¤‡ä»½</p>
</li>
<li>mongooplog æ—¥å¿—æ–‡ä»¶</li>
<li>mongostat mongodbçŠ¶æ€ </li>
</ul>
<p>ä¹‹å‰å·²ç»åˆ›å»ºäº†mongodæœåŠ¡ç«¯å£æ˜¯12345ï¼Œæˆ‘ä»¬é€šè¿‡æœåŠ¡ç«¯mongoè¿æ¥ã€‚<br>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæ‹·è´mongoåˆ°binç›®å½•ä¸‹ </p>
<pre><code>$ pwd
/usr/local/Cellar/mongodb/3.2.10/bin
$ cp ./mongo /Users/gougou/Desktop/mongodb_simple/bin/
</code></pre><pre><code>mongodb_simple
â”œâ”€â”€ bin
â”‚   â””â”€â”€ mongod
    â””â”€â”€ mongo
â”œâ”€â”€ conf
â”‚   â””â”€â”€ mongod.conf
â”œâ”€â”€ data
â””â”€â”€ log
</code></pre><p>å¯ä»¥ä½¿ç”¨<code>mongo --help</code> æ¥æŸ¥çœ‹å®¢æœç«¯ä½¿ç”¨æ–¹æ³•</p>
<p><code>usage: mongo [options] [db address] [file names (ending in .js)]</code></p>
<p>éœ€è¦é”®å…¥æ•°æ®åº“çš„é€‰é¡¹ å’Œæ•°æ®åº“çš„åœ°å€æ¥ä½¿ç”¨</p>
<ul>
<li><code>u æŒ‡å®šç”¨æˆ·å</code></li>
<li><code>p æŒ‡å®šå¯†ç </code></li>
</ul>
<p>ä½¿ç”¨ä»‹ç»ä¸­æœ‰ </p>
<pre><code>  192.169.0.5:9999/foo  foo database on 192.168.0.5 machine on port 9999
</code></pre><p>éœ€è¦è¾“å…¥æ•°æ®åº“å’Œç«¯å£<br>æœ¬æœºè¾“å…¥ 127.0.0.1</p>
<pre><code>$ bin gougou$ mongo 127.0.0.1:12345/test
MongoDB shell version: 3.2.10
connecting to: 127.0.0.1:12345/test
Server has startup warnings: 
2016-10-09T10:27:01.444+0800 I CONTROL  [initandlisten] 
2016-10-09T10:27:01.445+0800 I CONTROL  [initandlisten] ** WARNING: soft rlimits too low. Number of files is 256, should be at least 1000
&gt;
</code></pre><h2 id="å…³é—­ä¸å¯åŠ¨"><a href="#å…³é—­ä¸å¯åŠ¨" class="headerlink" title="å…³é—­ä¸å¯åŠ¨"></a>å…³é—­ä¸å¯åŠ¨</h2><p>å…³é—­æœåŠ¡<br><code>db.shutdownServer()</code> å¦‚æœæƒé™ä¸å¤Ÿåˆ‡æ¢åˆ°ç®¡ç†å‘˜ use adminåœ¨æ‰§è¡Œ<br>ä¹Ÿå¯ä»¥ä½¿ç”¨kill å‘½ä»¤ç»“æŸ -9 æˆ–è€… -15ä¸æ¨èä½¿ç”¨ -9<br>å…³é—­ä¹‹å<code>$ mongo 127.0.0.1:12345/test</code>ä¼šå¤±è´¥ å› ä¸ºæœåŠ¡ç«¯å·²ç»è¢«æˆ‘ä»¬å…³äº†</p>
<p>è¾“å…¥<code>./bin/mongod</code>å¯ä»¥ç›´æ¥å¯åŠ¨æœåŠ¡ å¦‚æœç›´æ¥è¾“å…¥<code>mongod</code>é»˜è®¤æ˜¯ æˆ‘ä»¬çš„ç¬¬ä¸€ä»½ å¯åŠ¨æœåŠ¡</p>

	</div>
	<div class="meta split">
		
			<span>æœ¬æ–‡æ€»é˜…è¯»é‡ <span id="busuanzi_value_page_pv"></span> æ¬¡</span>
		
		<time class="post-date" datetime="2014-12-19T06:48:00.000Z" itemprop="datePublished">2014-12-19</time>
	</div>
</article>

<!--è¯„è®º-->

	
<div class="ds-thread" data-thread-key="mongodb-install" data-title="å®‰è£…mongodb" data-url="http://yoursite.com/2014/12/19/mongodb-install/"></div>
<script type="text/javascript">

var duoshuoQuery = {short_name:"yumemor"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>


  
</div>


  <svg id="bigTriangleColor" width="100%" height="40" viewBox="0 0 100 102" preserveAspectRatio="none">
    <path d="M0 0 L50 100 L100 0 Z"></path>
  </svg>

  


  <div class="wrapper"></div>





<div class="fat-footer">
	<div class="wrapper">
		<div class="layout layout--center">
			<div class="layout__item palm-mb">
				<div class="media">
					<img class="headimg" src='http://oct8d1mqf.bkt.clouddn.com/2016-10-17-15%3A42%3A28.jpg' alt='å°å…ƒ'>
					<div class="media__body">
						<h4>Yuankai Gou</h4>
						<p class='site-description'>æ°´æ·±æµé™</p>
					</div>
				</div>
				<div class="author-contact">
					<ul>
						
							
							<li>
				        		<a href="http://weibo.com/u/5706883203" target="_blank">
				        			
				        				<i class="iconfont icon-weibo"></i>
				        			
				        		</a>
				        	</li>
						
							
							<li>
				        		<a href="https://github.com/yuankaigou" target="_blank">
				        			
				        				<i class="iconfont icon-github"></i>
				        			
				        		</a>
				        	</li>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>

<footer class="footer" role="contentinfo">
	<div class="wrapper wrapper--wide split split--responsive">
		
			<span>æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡, è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äººæ¬¡</span>
		
		<span>Powered by <a href="http://hexo.io">Hexo</a></span>
	</div>
</footer>

	<!-ï¼è¿™é‡Œå¯¼å…¥äº† lib.js é‡Œé¢æ¶µç›–äº† jQuery ç­‰æ¡†æ¶ æ‰€ä»¥æ³¨é‡Šæ‰-->
	<!--<script src="http://lib.sinaapp.com/js/jquery/2.0/jquery.min.js"></script>-->
	<script src="/js/lib.js"></script>
	<script src="/js/google-code-prettify/prettify.js"></script>
	<script src="/js/module.js"></script>
	<script src="/js/script.js"></script>
	
		<script async src="http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
	<script type='text/javascript'>
		//ä»£ç é«˜äº®
		$(document).ready(function(){
	 		$('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
   			prettyPrint();
		});
	</script>
	</body>
</html>
